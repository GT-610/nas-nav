<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAS 导航后台管理</title>
    <!-- MDUI 核心样式 -->
    <link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/mdui/1.0.2/css/mdui.min.css">
    <link rel="stylesheet" href="/static/css/admin.css">
    <!-- 排序库 -->
    <script src="https://s4.zstatic.net/ajax/libs/Sortable/1.15.6/Sortable.min.js"></script>
</head>

<body class="mdui-theme-primary-indigo mdui-theme-accent-pink">
    <!-- 顶部导航 -->
    <div class="mdui-appbar mdui-appbar-fixed">
        <div class="mdui-toolbar mdui-color-theme">
            <span class="mdui-typo-title">NAS导航管理后台</span>
            <div class="mdui-toolbar-spacer"></div>
            <a href="/" id="backToHome" class="mdui-btn mdui-btn-icon mdui-ripple" title="返回主页并退出登录">
                <i class="mdui-icon material-icons">home</i>
            </a>
        </div>
    </div>

    <!-- 主内容区域 -->
    <div class="mdui-container">
        <!-- 登录容器 -->
        <div id="loginContainer" class="mdui-row mdui-m-t-16">
            <div class="mdui-col-md-4 mdui-col-offset-md-4 mdui-col-sm-6 mdui-col-offset-sm-3 mdui-col-xs-10 mdui-col-offset-xs-1">
                <div class="mdui-card">
                    <div class="mdui-card-header">
                        <div class="mdui-card-header-title">管理员登录</div>
                    </div>
                    <form id="loginForm" class="mdui-card-content">
                        <div class="mdui-textfield mdui-textfield-floating-label">
                            <input class="mdui-textfield-input" type="password" id="password" required />
                            <label class="mdui-textfield-label">请输入管理员密码</label>
                        </div>
                        <button type="submit" class="mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent mdui-center mdui-m-t-4">
                            登录
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- 管理界面 - 默认隐藏 -->
        <div id="managementContent" class="mdui-m-t-16" style="display:none">
            <!-- 服务列表 -->
            <div class="mdui-card">
                <div class="mdui-card-header">
                    <h2 class="mdui-card-header-title">服务管理</h2>
                </div>
                <ul id="serviceList" class="mdui-list sortable-list">
                    <!-- 动态内容将在这里生成 -->
                </ul>
            </div>

            <!-- 浮动操作按钮 -->
            <div class="mdui-fab-wrapper" id="addFab" mdui-fab="{trigger: 'hover'}">
                <button class="mdui-fab mdui-ripple mdui-color-theme-accent">
                    <!-- 默认显示的图标 -->
                    <i class="mdui-icon material-icons">add</i>
                    <!-- 在拨号菜单开始打开时，平滑切换到关闭图标 -->
                    <i class="mdui-icon mdui-fab-opened material-icons">close</i>
                </button>
                <div class="mdui-fab-dial">
                    <button class="mdui-fab mdui-fab-mini mdui-ripple mdui-color-pink"
                        mdui-tooltip="{content: '添加服务', position: 'left'}" id="addServiceBtn">
                        <i class="mdui-icon material-icons">add</i>
                    </button>
                    <button class="mdui-fab mdui-fab-mini mdui-ripple mdui-color-red"
                        mdui-tooltip="{content: '添加分类', position: 'left'}" id="addCategoryBtn">
                        <i class="mdui-icon material-icons">add_to_photos</i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 编辑服务对话框 -->
    <div class="mdui-dialog" id="editServiceDialog">
        <div class="mdui-dialog-title">编辑服务</div>
        <div class="mdui-dialog-content">
            <form id="editServiceForm">
                <input type="hidden" id="editServiceId">
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">服务名称</label>
                    <input class="mdui-textfield-input" type="text" id="editServiceName" required />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">IP地址</label>
                    <input class="mdui-textfield-input" type="text" id="editServiceIp" required />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">域名地址</label>
                    <input class="mdui-textfield-input" type="url" id="editServiceDomain" required />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">服务描述</label>
                    <textarea class="mdui-textfield-input" id="editServiceDescription" rows="3"></textarea>
                </div>
                <div class="mdui-select" id="editServiceCategory" mdui-select required>
                    <select id="editCategorySelect">
                        <option value="" disabled selected>选择分类</option>
                    </select>
                    <div class="mdui-select-menu">
                        <!-- 动态生成选项 -->
                    </div>
                </div>
            </form>
        </div>
        <div class="mdui-dialog-actions">
            <button class="mdui-btn mdui-ripple" mdui-dialog-close>取消</button>
            <button type="submit" form="editServiceForm" class="mdui-btn mdui-ripple mdui-color-theme">保存</button>
        </div>
    </div>

    <!-- 添加分类对话框 -->
    <div class="mdui-dialog" id="addCategoryDialog">
        <div class="mdui-dialog-title">新增分类</div>
        <div class="mdui-dialog-content">
            <form id="addCategoryForm">
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">分类名称</label>
                    <input class="mdui-textfield-input" type="text" id="categoryName" required />
                </div>
            </form>
        </div>
        <div class="mdui-dialog-actions">
            <button class="mdui-btn mdui-ripple" mdui-dialog-close>取消</button>
            <button type="submit" form="addCategoryForm" class="mdui-btn mdui-ripple mdui-color-theme">创建</button>
        </div>
    </div>

    <!-- 新增服务对话框 -->
    <div class="mdui-dialog" id="addServiceDialog">
        <div class="mdui-dialog-title">新增服务</div>
        <div class="mdui-dialog-content">
            <form id="addNewServiceForm">
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">服务名称</label>
                    <input class="mdui-textfield-input" type="text" id="newServiceName" required />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">IP地址</label>
                    <input class="mdui-textfield-input" type="text" id="newServiceIp" required />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">域名地址</label>
                    <input class="mdui-textfield-input" type="url" id="newServiceDomain" required />
                </div>
                <div class="mdui-textfield mdui-textfield-floating-label">
                    <label class="mdui-textfield-label">服务描述</label>
                    <textarea class="mdui-textfield-input" id="newServiceDescription" rows="3"></textarea>
                </div>
                <div class="mdui-select" id="newServiceCategory" mdui-select required>
                    <select id="newCategorySelect">
                        <option value="" disabled selected>选择分类</option>
                    </select>
                    <div class="mdui-select-menu">
                        <!-- 动态生成选项 -->
                    </div>
                </div>
            </form>
        </div>
        <div class="mdui-dialog-actions">
            <button class="mdui-btn mdui-ripple" mdui-dialog-close>取消</button>
            <button type="submit" form="addNewServiceForm" class="mdui-btn mdui-ripple mdui-color-theme">创建</button>
        </div>
    </div>

    <!-- 确认删除对话框 -->
    <div class="mdui-dialog" id="confirmDeleteDialog">
        <div class="mdui-dialog-content">
            <p>确定要删除这个服务吗？此操作不可撤销。</p>
        </div>
        <div class="mdui-dialog-actions">
            <button class="mdui-btn mdui-ripple" mdui-dialog-close>取消</button>
            <button class="mdui-btn mdui-ripple mdui-color-red" id="confirmDeleteBtn">删除</button>
        </div>
    </div>

    <!-- 模板 -->
    <!-- 分类项模板 -->
    <template id="categoryItemTemplate">
        <li class="mdui-collapse-item">
            <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                <i class="mdui-icon material-icons">folder_open</i>
                <div class="mdui-list-item-content">
                    <div class="category-name mdui-text-color-theme-text"></div>
                </div>
                <i class="mdui-collapse-item-arrow mdui-icon material-icons">keyboard_arrow_down</i>
            </div>
            <ul class="mdui-collapse-item-body mdui-list service-sublist"></ul>
        </li>
    </template>

    <!-- 服务项模板 -->
    <template id="serviceItemTemplate">
        <li class="mdui-list-item mdui-ripple" data-id="" data-sort-order="">
            <div class="mdui-list-item-content">
                <div class="service-name"></div>
                <div class="mdui-list-item-text mdui-text-truncate service-description"></div>
            </div>
            <div class="mdui-list-item-action">
                <button class="mdui-btn mdui-btn-icon mdui-text-color-theme-accent edit-btn">
                    <i class="mdui-icon material-icons">edit</i>
                </button>
                <button class="mdui-btn mdui-btn-icon mdui-text-color-red delete-btn">
                    <i class="mdui-icon material-icons">delete</i>
                </button>
            </div>
        </li>
    </template>

    <!-- MDUI JS -->
    <script src="https://s4.zstatic.net/ajax/libs/mdui/1.0.2/js/mdui.min.js"></script>
    <script src="/static/js/admin.js"></script>
</body>

</html>